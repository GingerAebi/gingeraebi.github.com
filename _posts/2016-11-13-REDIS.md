---
layout: post
title: Database 종류와 분석 - Redis

---

# REDIS

이번 포스팅에서는 Redis에 대해서 알아보도록 하겠다. 필자가 아는 지식 내에서 Redis는 Memory만으로 이루어진 데이터베이스로 빠른 속도의 IO가 장점인 데이터베이스라고 생각하고 있었다. 보통 휘발성 데이터 (웹 상의 세션이라던지)를 저장하는데 많이 사용된다고 알고 있다. 이제 제대로 알아보도록 하자.

![](https://www.hostbridge.com/images/redis-300dpi.png)

## 1. WIKI 
레디스(Redis)는 오픈 소스이며 네트워크화, 인메모리 데이터베이스, 선택적 영구성 키-값 데이터 저장소이다. 레디스의 개발은 2013년 5월부터 Pivotal의 지원을 받고 있으며, 그 전에는 VMWare의 지원을 받았다.DB-Engines.com의 월간 랭킹에 따르면, 레디스는 가장 인기 있는 키-값 저장소이다.

### 1.1. 데이터 모델 

외부층에서 레디스의 데이터 모델은 키를 값에 맵핑하는 자료구조의 디렉토리이다. 레디스 그리고 기타 구조화 된 스토리지 시스템 사이의 주요 차이점 중 하나는 레디스는 스트링 뿐만 아니라 자료구조의 추상적 자료형(Abstract Date Type)도 지원을 한다.

- 문자열의 리스트
- 문자열의 집합 (반복되지 않고 정렬되지 않은 요소의 집합)
- 문자열의 정렬된 집합 (스코어라고 불리는 부동소수점의 지시를 받는 반복되지 않는 요소의 집합)
- 키와 밸류가 스트링인 해시
- 값의 종류는 어떤 조작들이 값 그 자체로서 사용가능한지 결정을 한다.

## Redis의 장단점 

Redis의 장단점을 찾다보니 재밌는 것을 발견하였다. 예전 (2015년 이전) 포스팅에서는 REDIS와 MemCached를 비교했었는데 그 이후로는 Cassandra라는 DB와 비교되기 시작했다. 이에 관심이 동하여 포스팅들을 읽어봤었는데 MemCached라는 DB?는 이미 Redis가 제압한 것으로 보이고 요즘에는 Cassandra라는 DB가 뜨고있는 추세인 것 같았다. 따라서 Cassandra 데이터베이스에 대한 조사도 필요할 것으로 느껴졌고 이는 다음 포스팅에서 다뤄보도록 하겠다.

### 장점 

Redis의 장점은 한마디로도 정리가 가능할 것 같다. NoSQL의 특성을 가지고 있으면서 빠른 IO까지 보장하는 데이터베이스. (물론 사용자의 이해도에 따라 달라지는 것으로 보인다.) 또한 Redis data missing으로 검색해 봤을 때 나오는 결과가 '서버를 껏다켰더니 데이터가 사라졌어요' 같은 경우가 아니라면 관련된 검색 결과가 적은 것으로 보아 데이터의 안정성 또한 만족할만한 수준인 것 같다. 위 같은 경우는 사용자가 Redis에 대한 이해가 낮아서 발생한 현상이 아닌가라고 조심스럽게 추측해본다. Redis는 disk에 데이터를 저장할 수 있는 기능을 제공하기 때문에 이만 잘 관리해 준다면 데이터의 손실이 일어날 일은 적어보인다. 클러스터링을 이용한 확장은 지원하지 않지만 보통 샤딩 기법을 통해 이를 해결한다고 한다.

더 많은 장점을 찾아보고 싶었지만 레디스의 장단점에 대한 글들은 정말로 많이 존재하지 않는 것 같다. 그만큼 당연한 장점과 단점을 가졌다고 생각해도 되지 않을까라는 생각이 들게된다. 또, 안정성 또한 좋다고 봐야되지 않을까?

추가 ) 읽어볼만한 글 

[Redis의 Scan은 어떻게 일어나는가?](http://tech.kakao.com/2016/03/11/redis-scan/)  
[이것이 레디스다 - 슬라이드](http://www.slideshare.net/krisjeong/this-is-redis-kor-slideshare)  
[Redis 특성](http://develop.sunshiny.co.kr/1001)  
[MemCached, Redis : 메모리 캐시](http://ojava.tistory.com/70)


### 단점 

레디스의 가장 큰 단점은 온전히 서비스의 모든 데이터를 담는 데이터베이스로 쓰기에는 비용이 매우 많이 든다는 점이 아닐까 싶다. 아무래도 메모리에 바로 올려서 쓰는 데이터베이스인 만큼 실제 서비스의 모든 데이터를 감당하기에는 매우 많은 비용이 들 것이다. 따라서 보통은 휘발성이 강한 임시 데이터를 저장하는 용도로 사용하고 있다. 또 하나의 단점은 클러스터링을 지원하지 않는다는 점인데, 레디스에서 앞으로는 지원할것이라고 얘기한 만큼 좀 더 기다린다면 지원이 될 것으로 보인다. 즉, 시간이 해결해 줄 단점인 것 같다.  
또 하나의 단점은 성능이 종종 기대치보다 낮아질 수 있다는 점인데, 이는 데이터의 백업을 위해서 드는 비용이 있기 때문이다. 이는 정책을 잘 정해서 해결해 나갈 수 있을거라고 생각된다.  
또 하나의 이슈는 많은 데이터를 처리할 때 속도가 저하 될 수 있는 문제이다. 이는 레디스를 잘못 활용한 상황이 아닐까라는 생각이든다. 적은량의 임시 데이터를 처리하게 된다면 문제가 없을 것으로 생각된다.

그 외의 단점은 NoSQL이 가진 단점과 다를점이 별로 없다고 생각해도 좋을 것 같다. 필자의 생각으로는 높은 비용을 제외하면 현존하는 NoSQL중에서 가장 쉽고 안정성있게 쓸 수 있는 데이터베이스이지 않을까하고 생각된다.  
물론 비용이 매우매우 큰 걸림돌이지만, 휘발성 데이터를 저장할 임시용 데이터베이스로는 적합할 것이라 생각된다. 

## 결론 

레디스는 위에서도 말했다시피 임시 저장용 데이터베이스로는 매우 쓸만하고 좋은 데이터베이스라 생각된다. 다음 포스팅에서는 필자가 이번에 공부를 하면서 처음 들어본 카산드라 데이터베이스에 대해 알아보도록 하겠다.