---
layout: post
title: Database 종류와 분석 - NoSQL

---

# NoSQL

이번 포스트에서는 NoSQL에 대한 탐험을 시작해보도록 하겠다. NoSQL 이놈은 대체 뭐길래 뜬금없이 등장해서 프로그래머들을 괴롭히는 것일까? 필자가 처음 프로그래밍을 시작할 때즈음 (2014년정도) 부터 소문이 돌기 시작하더니 이제는 너무나 많이들 사용하는 대중적인 데이터베이스 포맷이 되어버렸다. 

필자가 처음 NoSQL로 접했던 DB는 MongoDB였다. Node.js를 필두로 한 MEAN스택에서부터 스멀스멀 보이기 시작하더니 나중에 가서는 한번쯤은 다들 써본? 그런 존재가 되어있었다. 

![](https://i.ytimg.com/vi/Jh0er2pRcq8/maxresdefault.jpg =600x)

필자가 한번 써볼까? 라는 생각이 들었던 것은 그 때 즈음이었던 것 같다. 사실상 안드로이드 공부에만 집중하고 있었던 나에게는 MEAN스택 자체가 '아 웹쪽 세상에서 일어나는 무언가인가보다' 정도로만 생각되고 그렇게 큰 관심을 두고 있지 않았던 것이 사실이었다.

하지만 역시 호기심이 드는 것은 어쩔 수 없었던것 같다. 안드로이드 개발을 하면서 서버 개발도 같이 해야되는 상황이 생겼었고 기억 저 한켠에 묻어두었던 MEAN스택을 꺼내들었다. 처음에는 Node.js만 공부해 볼 생각으로 접하게 되었고, 하다보니 아 그러면 NoSQL인 MongoDB도 한번 써볼까? 라는 생각까지 미치게 되었다. 

간단한 API서버만 만들면 되는 상황이었고 JSON 형식으로 통신을 할 생각을 하고 있었기 때문에 NoSQL이 JSON데이터를 날로 저장하고 꺼낼 수 있다는 지식 하나만으로 '한번 해보자'라는 생각을 하게 되었던 것 같다. 

하지만 점차 써감에 있어서 여러 문제들이 (예를 들면 데이터 두개를 섞어서 가져오고 싶다던가) 발생하게 되었고, RDBMS에 너무 익숙해져 있던 것일까 NoSQL의 사용을 포기하는 시점에 다다르게 되었었다.

그 이후로 NoSQL과는 인연을 끊고 살다가 이제 회사에 들어와 어쩔 수 없이 이 친구를 마주봐야 하는 상황에 처하게 되었다. 이왕 이렇게 된거 제대로 알아보고 써보자는 생각이 들었고 앞으로 이 포스팅을 통해서 제!대!로!(제발...) NoSQL의 종류와 특징을 알아보도록 하겠다. 

## NoSQL이란?
나무 위키에 매우 자세하고 이해하기 쉽게 정리되어 있기에 그대로 들고와 필자의 사견을 살짝만 첨가하도록 하겠다. 

[https://namu.wiki/w/NoSQL](https://namu.wiki/w/NoSQL)

### 개요

단어 뜻 그 자체를 따지자면 "Not only SQL"로, SQL만을 사용하지 않는 데이터베이스 관리 시스템(DBMS)을 지칭하는 단어이다. 관계형 데이터베이스를 사용하지 않는다는 의미가 아닌, 여러 유형의 데이터베이스를 사용하는 것이다.

데이터를 조직하는 방법에는 리스트, 해시, 트리, 그래프 등의 다양한 방법이 있고 각각은 장점과 단점이 명확하기 때문에 단순히 NoSQL 이라고만 해서는 너무 뜬구름 잡는 얘기가 된다. 저 단어는 RDBMS가 데이터베이스의 거의 전부를 차지할 정도로 독점적인 지위를 차지하고 있는 현재 상황에 반발하는 정신을 담고 있다.

*지금까지 필자는 NoSQL이라고 하면 뭔가 자유롭게 데이터를 저장하고 Json이거나 문자열이거나 넣고싶은 모양 '그대로' 넣었다가 '그대로' 꺼내서 사용하는 형태를 생각했었다. 아래에서도 나오겠지만 이런 생각은 틀린 생각이었다는 것을 알게되었다. 이제는 NoSQL은 RDBMS와 같이 어떠한 형태를 딱 지정해서 말하는 것이 아니라 RDBMS가 아닌 모든 것을 총칭해 말하는 것이라고 느껴진다.*

### 정의 

“Not Only SQL” : 데이터를 저장하는 데에는 SQL 외에 다른 방법들도 있다.

NoSQL이라고 하는 말은 No 'English' 라고 하는 말과 마찬가지다. 세상에는 영어 말고도 수많은 언어가 존재한다. MongoDB에서 사용하는 쿼리 언어와 CouchDB에서 사용하는 쿼리 언어는 서로 전혀 다르다. 그럼에도 이 두 쿼리 언어는 같은 NoSQL 카테고리에 속한다. 어쨌거나 SQL이 아니기 때문이다. 또한 NoSQL이 No RDBMS를 의미하지는 않는다. BerkleyDB같은 예외가 있기 때문이다. 그리고 No RDMBS가 NoSQL인 것도 아니다. SQL호환 레이어를 제공하는 KV-store라는 예외가 역시 존재한다. 물론 KV-store의 특징상 range query를 where절에 넣을 수 없으므로 완전한 SQL은 못 되고 SQL의 부분집합 정도를 제공한다.

사실 아직까지 NoSQL에 내려진 **구체적인 정의는 없다**. 하지만 NoSQL이라 불리는 데이터베이스들은 대체로 다음과 같은 공통적인 성향을 보인다.

- 대부분 클러스터에서 실행할 목적으로 만들어졌기 때문에 **관계형 모델을 사용하지 않는다.** 그러나 모든 NoSQL 데이터베이스가 클러스터에서 실행되도록 맞춰진 것은 아니다. 예를 들어 NoSQL 데이터 모델 중 하나인 그래프 데이터베이스는 관계형 데이터베이스와 비슷한 분산 모델을 사용한다.
- **오픈 소스**이다. 비오픈 소스 프로젝트도 있긴 하지만, 대부분 그렇다.
- 보통 21세기 초반 웹 환경의 필요에 기초를 두고 있어서, 이 시기에 개발된 시스템만을 NoSQL이라고 부른다. 따라서 그 이전에 만들어진 ODBMS(Objective Database Management System)은 NoSQL에 해당하지 않는다.
- **스키마 없이 동작**하며, 구조에 대한 정의를 변경할 필요 없이 데이터베이스 레코드에 자유롭게 필드를 추가할 수 있다.  

````
    요약 : 대부분이 오픈 소스고, 21세기 초반에 개발되었으며 SQL을 사용하지 않는 Schema-less 데이터베이스.
````